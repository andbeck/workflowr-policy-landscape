<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="ZZ, APB, TFJ" />

<meta name="date" content="2023-12-20" />

<title>2_Topic_modeling</title>

<script src="site_libs/header-attrs-2.25/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />

<link rel="icon" href="https://github.com/workflowr/workflowr-assets/raw/main/img/reproducible.png">
<!-- Add a small amount of space between sections. -->
<style type="text/css">
div.section {
  padding-top: 12px;
}
</style>



<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Policy Landscape Methods</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="license.html">License</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/andbeck/workflowr-policy-landscape">
    <span class="fa fa-github"></span>
     
    Source code
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">2_Topic_modeling</h1>
<h4 class="author">ZZ, APB, TFJ</h4>
<h4 class="date">2023-12-20</h4>

</div>


<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-report" data-toggle="collapse" data-target="#workflowr-report">
<span class="glyphicon glyphicon-list" aria-hidden="true"></span>
workflowr <span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span>
</button>
</p>
<div id="workflowr-report" class="collapse">
<ul class="nav nav-tabs">
<li class="active">
<a data-toggle="tab" href="#summary">Summary</a>
</li>
<li>
<a data-toggle="tab" href="#checks"> Checks <span
class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span>
</a>
</li>
<li>
<a data-toggle="tab" href="#versions">Past versions</a>
</li>
</ul>
<div class="tab-content">
<div id="summary" class="tab-pane fade in active">
<p>
<strong>Last updated:</strong> 2023-12-20
</p>
<p>
<strong>Checks:</strong> <span
class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> 7
<span class="glyphicon glyphicon-exclamation-sign text-danger"
aria-hidden="true"></span> 0
</p>
<p>
<strong>Knit directory:</strong>
<code>workflowr-policy-landscape/</code> <span
class="glyphicon glyphicon-question-sign" aria-hidden="true"
title="This is the local directory in which the code in this file was executed.">
</span>
</p>
<p>
This reproducible <a href="https://rmarkdown.rstudio.com">R Markdown</a>
analysis was created with <a
  href="https://github.com/workflowr/workflowr">workflowr</a> (version
1.7.1). The <em>Checks</em> tab describes the reproducibility checks
that were applied when the results were created. The <em>Past
versions</em> tab lists the development history.
</p>
<hr>
</div>
<div id="checks" class="tab-pane fade">
<div id="workflowr-checks" class="panel-group">
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRMarkdownfilestronguptodate">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>R Markdown file:</strong> up-to-date
</a>
</p>
</div>
<div id="strongRMarkdownfilestronguptodate"
class="panel-collapse collapse">
<div class="panel-body">
<p>Great! Since the R Markdown file has been committed to the Git
repository, you know the exact version of the code that produced these
results.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongEnvironmentstrongempty">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Environment:</strong> empty </a>
</p>
</div>
<div id="strongEnvironmentstrongempty" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! The global environment was empty. Objects defined in the
global environment can affect the analysis in your R Markdown file in
unknown ways. For reproduciblity it’s best to always run the code in an
empty environment.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSeedstrongcodesetseed20220505code">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Seed:</strong>
<code>set.seed(20220505)</code> </a>
</p>
</div>
<div id="strongSeedstrongcodesetseed20220505code"
class="panel-collapse collapse">
<div class="panel-body">
<p>The command <code>set.seed(20220505)</code> was run prior to running
the code in the R Markdown file. Setting a seed ensures that any results
that rely on randomness, e.g. subsampling or permutations, are
reproducible.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSessioninformationstrongrecorded">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Session information:</strong>
recorded </a>
</p>
</div>
<div id="strongSessioninformationstrongrecorded"
class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Recording the operating system, R version, and package
versions is critical for reproducibility.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongCachestrongnone">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Cache:</strong> none </a>
</p>
</div>
<div id="strongCachestrongnone" class="panel-collapse collapse">
<div class="panel-body">
<p>Nice! There were no cached chunks for this analysis, so you can be
confident that you successfully produced the results during this
run.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongFilepathsstrongrelative">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>File paths:</strong> relative </a>
</p>
</div>
<div id="strongFilepathsstrongrelative" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Using relative paths to the files within your workflowr
project makes it easier to run your code on other machines.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRepositoryversionstrongahrefhttpsgithubcomandbeckworkflowrpolicylandscapetreea30bb03e57743b22e517ffe447ace19f51717ae8targetblanka30bb03a">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Repository version:</strong>
<a href="https://github.com/andbeck/workflowr-policy-landscape/tree/a30bb03e57743b22e517ffe447ace19f51717ae8" target="_blank">a30bb03</a>
</a>
</p>
</div>
<div
id="strongRepositoryversionstrongahrefhttpsgithubcomandbeckworkflowrpolicylandscapetreea30bb03e57743b22e517ffe447ace19f51717ae8targetblanka30bb03a"
class="panel-collapse collapse">
<div class="panel-body">
<p>
Great! You are using Git for version control. Tracking code development
and connecting the code version to the results is critical for
reproducibility.
</p>
<p>
The results in this page were generated with repository version
<a href="https://github.com/andbeck/workflowr-policy-landscape/tree/a30bb03e57743b22e517ffe447ace19f51717ae8" target="_blank">a30bb03</a>.
See the <em>Past versions</em> tab to see a history of the changes made
to the R Markdown and HTML files.
</p>
<p>
Note that you need to be careful to ensure that all relevant files for
the analysis have been committed to Git prior to generating the results
(you can use <code>wflow_publish</code> or
<code>wflow_git_commit</code>). workflowr only checks the R Markdown
file, but you know if there are other scripts or data files that it
depends on. Below is the status of the Git repository when the results
were generated:
</p>
<pre><code>
Ignored files:
    Ignored:    .DS_Store
    Ignored:    .RData
    Ignored:    .Rhistory
    Ignored:    .Rproj.user/
    Ignored:    data/.DS_Store
    Ignored:    data/original_dataset_reproducibility_check/.DS_Store
    Ignored:    output/.DS_Store
    Ignored:    output/Figure_3B/.DS_Store
    Ignored:    output/created_datasets/.DS_Store

Untracked files:
    Untracked:  gutenbergr_0.2.3.tar.gz

Unstaged changes:
    Modified:   Policy_landscape_workflowr.R
    Modified:   data/original_dataset_reproducibility_check/original_cleaned_data.csv
    Modified:   data/original_dataset_reproducibility_check/original_dataset_words_stm_5topics.csv
    Modified:   output/Figure_3A/Figure_3A.png
    Modified:   output/created_datasets/cleaned_data.csv

</code></pre>
<p>
Note that any generated files, e.g. HTML, png, CSS, etc., are not
included in this status report because it is ok for generated content to
have uncommitted changes.
</p>
</div>
</div>
</div>
</div>
<hr>
</div>
<div id="versions" class="tab-pane fade">

<p>
These are the previous versions of the repository in which changes were
made to the R Markdown (<code>analysis/2_Topic_modeling.Rmd</code>) and
HTML (<code>docs/2_Topic_modeling.html</code>) files. If you’ve
configured a remote Git repository (see <code>?wflow_git_remote</code>),
click on the hyperlinks in the table below to view the files as they
were in that past version.
</p>
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
File
</th>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
<th>
Message
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/andbeck/workflowr-policy-landscape/5c836ab16ab453cb31cdab34e34ad5d710d4f6ad/docs/2_Topic_modeling.html" target="_blank">5c836ab</a>
</td>
<td>
zuzannazagrodzka
</td>
<td>
2023-12-07
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/andbeck/workflowr-policy-landscape/c494066b8a27b63acce32dc0802815e07171fc74/docs/2_Topic_modeling.html" target="_blank">c494066</a>
</td>
<td>
zuzannazagrodzka
</td>
<td>
2023-12-02
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/andbeck/workflowr-policy-landscape/8b3a59889bd5efce570d1659e25dbe22f18dc950/docs/2_Topic_modeling.html" target="_blank">8b3a598</a>
</td>
<td>
zuzannazagrodzka
</td>
<td>
2023-11-10
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/andbeck/workflowr-policy-landscape/blob/3015fd29bca4694e529ae22d2f70704180c98bd0/analysis/2_Topic_modeling.Rmd" target="_blank">3015fd2</a>
</td>
<td>
zuzannazagrodzka
</td>
<td>
2023-11-10
</td>
<td>
adding arrow to the library and changing the reading command
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/andbeck/workflowr-policy-landscape/ca5ba4cf7dc4813eb01f7821e8401851a9a83630/docs/2_Topic_modeling.html" target="_blank">ca5ba4c</a>
</td>
<td>
zuzannazagrodzka
</td>
<td>
2023-11-09
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/andbeck/workflowr-policy-landscape/blob/d0498be941eeb0f9a9b5979b291663e8d2955641/analysis/2_Topic_modeling.Rmd" target="_blank">d0498be</a>
</td>
<td>
zuzannazagrodzka
</td>
<td>
2023-11-09
</td>
<td>
wflow_publish(c("./analysis/2_Topic_modeling.Rmd"))
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/andbeck/workflowr-policy-landscape/blob/41dd1ca5c26c3b0b193d6f0af7cccd45f99d088f/analysis/2_Topic_modeling.Rmd" target="_blank">41dd1ca</a>
</td>
<td>
Thomas Frederick Johnson
</td>
<td>
2022-11-25
</td>
<td>
Revisions to the text, and pushing the write thing this time…
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/andbeck/workflowr-policy-landscape/5bdfc2a3528071efbaf2c6fa1129e5c017cf9524/docs/2_Topic_modeling.html" target="_blank">5bdfc2a</a>
</td>
<td>
Andrew Beckerman
</td>
<td>
2022-11-24
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/andbeck/workflowr-policy-landscape/34ddc8056a3f5fff4b235d930591518796c6597e/docs/2_Topic_modeling.html" target="_blank">34ddc80</a>
</td>
<td>
Andrew Beckerman
</td>
<td>
2022-11-24
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/andbeck/workflowr-policy-landscape/693000ea827e862db4c2ede92957b8e967feeb47/docs/2_Topic_modeling.html" target="_blank">693000e</a>
</td>
<td>
Andrew Beckerman
</td>
<td>
2022-11-24
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/andbeck/workflowr-policy-landscape/60a6c61116ce72a8ec7b25ec4d28ba0ac5e31df4/docs/2_Topic_modeling.html" target="_blank">60a6c61</a>
</td>
<td>
Andrew Beckerman
</td>
<td>
2022-11-24
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/andbeck/workflowr-policy-landscape/fb90a004394c9b9eb7d0681ddeec4b33c769a43f/docs/2_Topic_modeling.html" target="_blank">fb90a00</a>
</td>
<td>
Andrew Beckerman
</td>
<td>
2022-11-24
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/andbeck/workflowr-policy-landscape/blob/e08d7ac6e609548e71c8dcdabc103285a58956e4/analysis/2_Topic_modeling.Rmd" target="_blank">e08d7ac</a>
</td>
<td>
Andrew Beckerman
</td>
<td>
2022-11-24
</td>
<td>
more organising and editing of workflowR mappings
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/andbeck/workflowr-policy-landscape/e08d7ac6e609548e71c8dcdabc103285a58956e4/docs/2_Topic_modeling.html" target="_blank">e08d7ac</a>
</td>
<td>
Andrew Beckerman
</td>
<td>
2022-11-24
</td>
<td>
more organising and editing of workflowR mappings
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/andbeck/workflowr-policy-landscape/blob/31239cdb6f2a315ad1b40f96f4dd983aaa397d87/analysis/2_Topic_modeling.Rmd" target="_blank">31239cd</a>
</td>
<td>
Andrew Beckerman
</td>
<td>
2022-11-24
</td>
<td>
more organising and editing of workflowR mappings
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/andbeck/workflowr-policy-landscape/31239cdb6f2a315ad1b40f96f4dd983aaa397d87/docs/2_Topic_modeling.html" target="_blank">31239cd</a>
</td>
<td>
Andrew Beckerman
</td>
<td>
2022-11-24
</td>
<td>
more organising and editing of workflowR mappings
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/andbeck/workflowr-policy-landscape/0a21152a465ac56ab49b95ab1754c03552fd9f61/docs/2_Topic_modeling.html" target="_blank">0a21152</a>
</td>
<td>
zuzannazagrodzka
</td>
<td>
2022-09-21
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/andbeck/workflowr-policy-landscape/796aa8e52d5b1ef939301014acb1df11969def99/docs/2_Topic_modeling.html" target="_blank">796aa8e</a>
</td>
<td>
zuzannazagrodzka
</td>
<td>
2022-09-21
</td>
<td>
Build site.
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/andbeck/workflowr-policy-landscape/blob/efb12025b35db2b4e815bc575445216d20c0d6f0/analysis/2_Topic_modeling.Rmd" target="_blank">efb1202</a>
</td>
<td>
zuzannazagrodzka
</td>
<td>
2022-09-21
</td>
<td>
Publish other files
</td>
</tr>
</tbody>
</table>
</div>
<hr>
</div>
</div>
</div>
<div id="topic-modeling" class="section level1">
<h1>Topic modeling</h1>
<div id="topic-modeling-methods-overview" class="section level2">
<h2>Topic Modeling Methods Overview</h2>
<p>To investigate the differing priorities of the stakeholder groups, we
employ a computational text analysis called the Structural Topic
Modeling (STM) using library stm. We chose STM because its capable of
unsupervised text classification whilst controlling for sources of
non-independence e.g. in our case, sentences are nested within
stakeholders, and stakeholders within stakeholder groups. The topic
modeling was conducted on a sentence level and the metadata variable
contained information about the stakeholders group and the document each
work comes from.</p>
</div>
<div id="grounded-theory" class="section level2">
<h2>Grounded theory</h2>
<p>After generating the topics, we used the ground theory method of
analysing qualitative data (Corbin and Strauss, 1990) to identify the
main categories that are present in the topics.</p>
<ol style="list-style-type: decimal">
<li>Open coding</li>
</ol>
<ul>
<li>obtained topics (codes hereafter) by performing STM with the Lee and
Mimno (2014) optimisation, which finds the optimal number of topics. Our
STM included two covariates: Stakeholder ID, Stakeholder group. -The STM
calculates probability, Score, Lift and FLEX values for each word and
assigns words to one or multiple topics, we looked at the seven words
with the highest value across these four categories/values and described
the codes based on the following coding paradigm:
<ul>
<li>Missions and aims - words are related to stakeholders’ visions,
goals, statements or objectives e.g. open, free.</li>
<li>Functions - words associated with their roles and processes they are
responsible in the research landscape e.g. publish, data, review,
train</li>
<li>Discipline - words describing the discipline e.g. multidisciplinary,
biology, ecology, evolution</li>
<li>Scale - words associated with the time and scale e.g. worldwide,
global, long</li>
</ul></li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Axial coding
<ul>
<li>axial coding involves finding connections and relationships between
code descriptions e.g. similar descriptions would be linked.</li>
</ul></li>
<li>Selective coding</li>
</ol>
<ul>
<li>code links fell into four distinct clusters, and one hetergenous
(messy) cluster made up of multiple very small clusters.</li>
</ul>
</div>
<div id="topic-overview-ii" class="section level2">
<h2>Topic Overview II</h2>
<p>The stm model generated 73 topics which later were characterised and
categorised following the above description. In the end we were able to
identify four main topics that we called:</p>
<ol style="list-style-type: decimal">
<li><p>Open Research</p></li>
<li><p>Community and Support</p></li>
<li><p>Innovation and Solutions</p></li>
<li><p>Publication Process.</p></li>
<li><p>Open Research topic contains:</p></li>
</ol>
<blockquote>
<p>Topic 1, Topic 13, Topic 58, Topic 69, Topic 43, Topic 25, Topic 32,
Topic 54, Topic 52, Topic 60</p>
</blockquote>
<ol start="2" style="list-style-type: decimal">
<li>Community &amp; Support topic contains:</li>
</ol>
<blockquote>
<p>Topic 5, Topic 7, Topic 10, Topic 11, Topic 21, Topic 23, Topic 26,
Topic 39, Topic 41, Topic 42, Topic 63, Topic 65</p>
</blockquote>
<p>3.Innovation &amp; Solution topic contains:</p>
<blockquote>
<p>Topic 17, Topic 24, Topic 30, Topic 14, Topic 2, Topic 34, Topic 38,
Topic 4, Topic 44, Topic 48, Topic 50, Topic 51, Topic 55, Topic 61,
Topic 66, Topic 71, Topic 20, Topic 57, Topic 62</p>
</blockquote>
<ol start="4" style="list-style-type: decimal">
<li>Publication process topic contains:</li>
</ol>
<blockquote>
<p>Topic 3, Topic 12, Topic 16, Topic 22, Topic 35, Topic 49, Topic 47,
Topic 53</p>
</blockquote>
<p>The rest of the topics that were not able to be categorised to any of
our topics were not included in our analysis and interpretation.</p>
<div id="beta-and-gamma" class="section level3">
<h3>Beta and Gamma</h3>
<p>The beta value is calculated for each word and for each topic and
gives information on a probability that a certain word belongs to a
certain topic. Score value gives us measure how exclusive the each word
is to a certain topic. For example, if a word has a low value, it means
that it’s equally used in all topics. The score was calculated by a word
beta value divided by a sum of beta values for this word across all
topics.</p>
<p>After merging topics into new topics that were categorised by us, we
calculated mean value of the merged topics beta and score values. Later
we used these values in our text similarities analysis to create Fig. 2B
(3_Text_similarities, Figure_2B).</p>
<p>Next, we calculated the proportion of the topics appearing in all of
the documents by using a mean gamma value for each sentence and new
topics. The gamma value informs us of the probability that certain
documents (here: sentence) belong to a certain topic.</p>
<p>We chose one topic with the highest mean gamma value as a dominant
topic for each of the sentence and later calculated the proportion of
the sentences belonging to the new topics.</p>
<p>This data set was used to create Fig. 2A (Figure_2A).</p>
</div>
</div>
</div>
<div id="setup" class="section level1">
<h1>Setup</h1>
<p>Clearing environment and loading packages</p>
<pre class="r"><code>rm(list=ls())</code></pre>
<pre class="r"><code>library(tidyverse)
library(purrr)
library(tidyr)
library(stringr)
library(tidytext)

# Additional libraries
library(quanteda)</code></pre>
<pre><code>Warning in .recacheSubclasses(def@className, def, env): undefined subclass
&quot;pcorMatrix&quot; of class &quot;replValueSp&quot;; definition not updated</code></pre>
<pre><code>Warning in .recacheSubclasses(def@className, def, env): undefined subclass
&quot;pcorMatrix&quot; of class &quot;xMatrix&quot;; definition not updated</code></pre>
<pre><code>Warning in .recacheSubclasses(def@className, def, env): undefined subclass
&quot;pcorMatrix&quot; of class &quot;mMatrix&quot;; definition not updated</code></pre>
<pre class="r"><code>library(quanteda.textplots)
library(quanteda.dictionaries)
library(tm)
library(topicmodels)
library(ggplot2)
library(dplyr)
library(wordcloud)
library(reshape2)
library(igraph)
library(ggraph)
library(stm)

library(&quot;kableExtra&quot;) # to create a table when converting to html
library(arrow)</code></pre>
</div>
<div id="importing-data" class="section level1">
<h1>Importing data</h1>
<pre class="r"><code># Importing dataset created in &quot;1a_Data_preprocessing.Rmd&quot;
# data_words &lt;- read.csv(file = &quot;./output/created_datasets/cleaned_data.csv&quot;)

# Importing dataset that we originally created and used in our analysis
data_words &lt;- read_feather(&quot;./data/original_dataset_reproducibility_check/original_cleaned_data.arrow&quot;)</code></pre>
</div>
<div id="structural-topic-models-on-stakeholders"
class="section level1">
<h1>Structural Topic Models on stakeholders</h1>
<p>Code follows: <a
href="https://juliasilge.com/blog/sherlock-holmes-stm/"
class="uri">https://juliasilge.com/blog/sherlock-holmes-stm/</a></p>
<div id="data-management" class="section level2">
<h2>Data management</h2>
<p>Creating metadata and connecting it with my data to perform topic
modeling on the documents. Metadata includes: document name and
stakeholder name</p>
<pre class="r"><code># Creating metadata and connecting it with my data to perform topic modeling on the documents. Metadata includes: document name and stakeholder name

data_dfm &lt;- data_words %&gt;%
  count(sentence_doc, word, sort = TRUE) %&gt;%
  cast_dfm(sentence_doc, word, n)

data_sparse &lt;- data_words %&gt;%
  count(sentence_doc, word, sort = TRUE) %&gt;%
  cast_sparse(sentence_doc, word, n)

# Creating metadata: document name, stakeholder name
data_metadata &lt;- data_words %&gt;% 
  select(sentence_doc, name, stakeholder) %&gt;% 
  distinct(sentence_doc, .keep_all = TRUE)

# Connecting my metadata and data_dfm for stm()
covs = data.frame(sentence_doc = data_dfm@docvars$docname, row = c(1:length(data_dfm@docvars$docname)))
covs = left_join(covs, data_metadata)</code></pre>
<pre><code>Joining with `by = join_by(sentence_doc)`</code></pre>
</div>
<div id="topic-modeling---no-predetermined-number-of-topics"
class="section level2">
<h2>Topic modeling - no predetermined number of topics</h2>
<pre class="r"><code>data_beta &lt;- data_words
topic_model &lt;- stm(data_dfm, K = 0, verbose = FALSE, init.type = &quot;Spectral&quot;, prevalence = ~ name + stakeholder, data = covs, seed = 1) # running stm() function to fit a model and generate topics
tpc = topicCorr(topic_model)
plot(tpc) # plotting topic connections, there are no clear clustering among the topics</code></pre>
<p><img src="figure/2_Topic_modeling.Rmd/unnamed-chunk-5-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>
<button type="button" class="btn btn-default btn-xs btn-workflowr btn-workflowr-fig" data-toggle="collapse" data-target="#fig-unnamed-chunk-5-1">
Past versions of unnamed-chunk-5-1.png
</button>
</p>
<div id="fig-unnamed-chunk-5-1" class="collapse">
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://github.com/andbeck/workflowr-policy-landscape/blob/ca5ba4cf7dc4813eb01f7821e8401851a9a83630/docs/figure/2_Topic_modeling.Rmd/unnamed-chunk-5-1.png" target="_blank">ca5ba4c</a>
</td>
<td>
zuzannazagrodzka
</td>
<td>
2023-11-09
</td>
</tr>
<tr>
<td>
<a href="https://github.com/andbeck/workflowr-policy-landscape/blob/31239cdb6f2a315ad1b40f96f4dd983aaa397d87/docs/figure/2_Topic_modeling.Rmd/unnamed-chunk-5-1.png" target="_blank">31239cd</a>
</td>
<td>
Andrew Beckerman
</td>
<td>
2022-11-24
</td>
</tr>
<tr>
<td>
<a href="https://github.com/andbeck/workflowr-policy-landscape/blob/796aa8e52d5b1ef939301014acb1df11969def99/docs/figure/2_Topic_modeling.Rmd/unnamed-chunk-5-1.png" target="_blank">796aa8e</a>
</td>
<td>
zuzannazagrodzka
</td>
<td>
2022-09-21
</td>
</tr>
</tbody>
</table>
</div>
</div>
<pre class="r"><code># Getting beta values from the topic modeling and adding beta value to the data_words 

td_beta &lt;- tidy(topic_model) # getting beta values
td_beta %&gt;% 
  group_by(term) %&gt;% 
  arrange(term, -beta)</code></pre>
<pre><code># A tibble: 192,576 × 3
# Groups:   term [2,832]
   topic term       beta
   &lt;int&gt; &lt;chr&gt;     &lt;dbl&gt;
 1    32 abide 2.21e-  3
 2    41 abide 2.06e-  3
 3    48 abide 1.82e- 52
 4    23 abide 5.48e-145
 5    35 abide 1.62e-156
 6    68 abide 2.09e-157
 7    40 abide 1.48e-175
 8    55 abide 3.97e-180
 9     1 abide 1.24e-181
10    29 abide 5.51e-185
# ℹ 192,566 more rows</code></pre>
</div>
<div id="grounded-theory-1" class="section level2">
<h2>Grounded theory</h2>
<p>Topics generated by the model were coded and categorised into five
grouping topics defined by us. Below, new “topic” column was created and
topics were assigned</p>
<pre class="r"><code># Topics generated by the model were coded and categorised into five defined by us topics. Below, new &quot;topic&quot; column was created and topics were assigned  

td_beta$stm_topic &lt;- td_beta$topic
td_beta$topic &lt;- &quot;NA&quot;

# 1. Open Research topic contains: Topic 1, Topic 13, Topic 58, Topic 69, Topic 43, Topic 25, Topic 32, Topic 54, Topic 52, Topic 60
td_beta$topic[td_beta$stm_topic%in% c(1, 13, 58, 69, 43, 25, 32, 54, 52, 60)] &lt;- 1
# 2. Community &amp; Support topic contains: Topic 5, Topic 7, Topic 10, Topic 11, Topic 21, Topic 23, Topic 26, Topic 39, Topic 41, Topic 42, Topic 63, Topic 65
td_beta$topic[td_beta$stm_topic%in% c(5,  7,  10,  11,  21,  23,  26,  39,  41,  42,  63,  65)] &lt;- 2
# 3.Innovation &amp; Solution topic contains: Topic 17, Topic 24, Topic 30, Topic 14, Topic 2, Topic 34, Topic 38, Topic 4, Topic 44, Topic 48, Topic 50, Topic 51, Topic 55, Topic 61, Topic 66, Topic 71, Topic 20, Topic 57, Topic 62
td_beta$topic[td_beta$stm_topic%in% c(17,  24,  30,  14,  2,  34,  38,  4,  44,  48,  50,  51,  55,  61,  66,  71,  20,  57,  62)] &lt;- 3
# 4. Publication process topic contains: Topic 3, Topic 12, Topic 16, Topic 22, Topic 35, Topic 49, Topic 47, Topic 53
td_beta$topic[td_beta$stm_topic%in% c(3, 12, 16, 22, 35, 49, 47, 53)] &lt;- 4
# Rest of the topics that were not able to be categorised to any of our topics were not included in our analysis and interpretation. 
td_beta$topic[td_beta$topic %in% &quot;NA&quot;] &lt;- 5

td_beta$topic &lt;- as.integer(td_beta$topic)
td_beta$term &lt;- as.factor(td_beta$term)

# Sum of beta values for all topics for each category for each word
td_beta_sum &lt;- td_beta %&gt;% 
  select(-stm_topic) %&gt;%
  group_by(topic, term) %&gt;% 
  summarise(beta = sum(beta)) </code></pre>
<pre><code>`summarise()` has grouped output by &#39;topic&#39;. You can override using the
`.groups` argument.</code></pre>
<pre class="r"><code># Mean value of beta values for all topics for each category for each word
td_beta_mean &lt;- td_beta %&gt;% 
  select(-stm_topic) %&gt;%
  group_by(topic, term) %&gt;% 
  summarise(beta = mean(beta)) </code></pre>
<pre><code>`summarise()` has grouped output by &#39;topic&#39;. You can override using the
`.groups` argument.</code></pre>
<pre class="r"><code>td_beta_groups_sum &lt;- td_beta_sum %&gt;% 
  spread(topic, beta) 
  
# Calculating score - beta value of the word in topic / total beta value for the word in all topics

td_beta_total &lt;- td_beta %&gt;% 
  group_by(term) %&gt;% 
  summarise(beta_word_total = sum(beta))

td_beta_score &lt;- td_beta %&gt;% 
  left_join(td_beta_total, by = c(&quot;term&quot; = &quot;term&quot;)) 

td_beta_score$score = td_beta_score$beta/td_beta_score$beta_word_total
head(td_beta_score)</code></pre>
<pre><code># A tibble: 6 × 6
  topic term       beta stm_topic beta_word_total     score
  &lt;int&gt; &lt;fct&gt;     &lt;dbl&gt;     &lt;int&gt;           &lt;dbl&gt;     &lt;dbl&gt;
1     1 abide 1.24e-181         1         0.00427 2.90e-179
2     3 abide 0                 2         0.00427 0        
3     4 abide 0                 3         0.00427 0        
4     3 abide 0                 4         0.00427 0        
5     2 abide 0                 5         0.00427 0        
6     5 abide 0                 6         0.00427 0        </code></pre>
<pre class="r"><code>td_beta_score &lt;- td_beta_score %&gt;% 
  select(topic, term, beta, score, stm_topic)

# Calculating mean beta and score value for new topics

# Grouping by word and then grouping by the category to calculate mean values

td_beta_mean &lt;- td_beta_score %&gt;% 
  group_by(term, topic) %&gt;% 
  summarise(mean_beta = mean(beta)) %&gt;%
  mutate(merge_col = paste(term, topic, sep = &quot;_&quot;))</code></pre>
<pre><code>`summarise()` has grouped output by &#39;term&#39;. You can override using the
`.groups` argument.</code></pre>
<pre class="r"><code>td_score_mean &lt;- td_beta_score %&gt;% 
  group_by(term, topic) %&gt;% 
  summarise(mean_score = mean(score)) %&gt;% 
  mutate(merge_col = paste(term, topic, sep = &quot;_&quot;)) %&gt;% 
  ungroup() %&gt;% 
  select(-term, -topic)</code></pre>
<pre><code>`summarise()` has grouped output by &#39;term&#39;. You can override using the
`.groups` argument.</code></pre>
<pre class="r"><code># Creating a data frame with score and beta mean values
td_beta_score_mean &lt;- td_beta_mean %&gt;% 
  left_join(td_score_mean, by = c(&quot;merge_col&quot; = &quot;merge_col&quot;)) 

# Adding a beta sum column
td_beta_sum_w &lt;- td_beta_sum %&gt;% 
  mutate(merge_col = paste(term, topic, sep = &quot;_&quot;)) %&gt;% 
  ungroup() %&gt;% 
  select(- term, - topic)
  
td_beta_score_mean_max &lt;- td_beta_score_mean %&gt;% 
  left_join(td_beta_sum_w, by = c(&quot;merge_col&quot; = &quot;merge_col&quot;)) %&gt;% 
  select(-merge_col) %&gt;% 
  rename(sum_beta = beta)</code></pre>
</div>
<div id="beta" class="section level2">
<h2>Beta</h2>
<p>Obtaining the highest beta values</p>
<pre class="r"><code># Getting highest beta value for each of the word with the information about the Topic number

td_beta_select &lt;- td_beta_score_mean_max

td_beta_mean_wide &lt;- td_beta_score_mean_max %&gt;% 
  select(term, topic, mean_beta) %&gt;% 
  spread(topic, mean_beta) %&gt;% 
  rename(mean_beta_t1 = `1`, mean_beta_t2 = `2`, mean_beta_t3 = `3`, mean_beta_t4 = `4`, mean_beta_t5 = `5`)

td_score_mean_wide &lt;- td_beta_score_mean_max %&gt;% 
  select(term, topic, mean_score) %&gt;% 
  spread(topic, mean_score) %&gt;% 
  rename(mean_score_t1 = `1`, mean_score_t2 = `2`, mean_score_t3 = `3`, mean_score_t4 = `4`, mean_score_t5 = `5`)

td_beta_sum_wide &lt;- td_beta_score_mean_max %&gt;% 
  select(term, topic, sum_beta) %&gt;% 
  spread(topic, sum_beta) %&gt;% 
  rename(sum_beta_t1 = `1`, sum_beta_t2 = `2`, sum_beta_t3 = `3`, sum_beta_t4 = `4`,  sum_beta_t5 = `5`)

# Highest score value
td_score_topic &lt;- td_beta_select %&gt;% 
  select(-sum_beta, -mean_beta) %&gt;% 
  group_by(term) %&gt;% 
  top_n(1, mean_score) %&gt;% 
  rename(highest_mean_score = mean_score)

td_score_topic %&gt;% group_by(topic) %&gt;% count()</code></pre>
<pre><code># A tibble: 5 × 2
# Groups:   topic [5]
  topic     n
  &lt;int&gt; &lt;int&gt;
1     1   492
2     2   579
3     3   656
4     4   473
5     5   632</code></pre>
<pre class="r"><code># Highest mean beta value
td_beta_topic &lt;- td_beta_select %&gt;% 
  select(-sum_beta, -mean_score) %&gt;% 
  group_by(term) %&gt;% 
  top_n(1, mean_beta) %&gt;% 
  rename(highest_mean_beta = mean_beta)

# Merging data_words with: td_beta_mean_wide, td_score_mean_wide, td_beta_sum_wide, td_score_topic
data_words$word &lt;- as.factor(data_words$word)

to_merge &lt;- td_beta_mean_wide %&gt;% 
  left_join(td_score_mean_wide, by= c(&quot;term&quot; = &quot;term&quot;)) %&gt;% 
  left_join(td_beta_sum_wide, by= c(&quot;term&quot; = &quot;term&quot;)) %&gt;% 
  left_join(td_score_topic, by= c(&quot;term&quot; = &quot;term&quot;)) %&gt;% 
  left_join(td_beta_topic, by= c(&quot;term&quot; = &quot;term&quot;))

data_words_stm &lt;- data_words %&gt;% 
  left_join(to_merge, by = c(&quot;word&quot; = &quot;term&quot;)) %&gt;% 
  select(-topic.y) %&gt;% 
  rename(topic = topic.x)</code></pre>
</div>
</div>
<div id="saving-data" class="section level1">
<h1>Saving data</h1>
<pre class="r"><code># Saving the csv file
write_csv(data_words_stm, file = &quot;./output/created_datasets/dataset_words_stm_5topics.csv&quot;)</code></pre>
</div>
<div id="creating-a-document-sentence-level-dataset"
class="section level1">
<h1>Creating a document (sentence) level dataset</h1>
<div id="gamma" class="section level2">
<h2>Gamma</h2>
<p>Finding which topics belong to each sentence - followed the same
logic as with beta values</p>
<pre class="r"><code># Getting gamma values from topic_modeling
td_gamma &lt;- tidy(topic_model, matrix = &quot;gamma&quot;,                    
                 document_names = rownames(data_dfm))

td_gamma_prog &lt;- td_gamma
td_gamma_prog$stm_topic &lt;- td_gamma_prog$topic
td_gamma_prog$topic &lt;- &quot;NA&quot;

td_gamma_prog$topic[td_gamma_prog$stm_topic%in% c(1, 13, 58, 69, 43, 25, 32, 54, 52, 60)] &lt;- 1
td_gamma_prog$topic[td_gamma_prog$stm_topic%in% c(5,  7,  10,  11,  21,  23,  26,  39,  41,  42,  63,  65)] &lt;- 2
td_gamma_prog$topic[td_gamma_prog$stm_topic%in% c(17,  24,  30,  14,  2,  34,  38,  4,  44,  48,  50,  51,  55,  61,  66,  71,  20,  57,  62)] &lt;- 3
td_gamma_prog$topic[td_gamma_prog$stm_topic%in% c(3, 12, 16, 22, 35, 49, 47, 53)] &lt;- 4
td_gamma_prog$topic[td_gamma_prog$topic %in% &quot;NA&quot;] &lt;- 5

td_gamma_prog$topic &lt;- as.integer(td_gamma_prog$topic)
td_gamma_prog$document &lt;- as.factor(td_gamma_prog$document)

# Removing topic 5 as we are not interested in it
td_gamma_prog &lt;- td_gamma_prog %&gt;% 
  select(-stm_topic) %&gt;% 
  rename(sentence_doc = document) %&gt;% 
  filter(topic != 5)

# Choosing the highest gamma value for each sentence
# Sort by the sentence and take top_n(1, gamma) to choose the topic with the biggest gamma value

td_gamma_prog_info &lt;- td_gamma_prog %&gt;% 
  rename(topic_sentence = topic) %&gt;% 
  group_by(sentence_doc) %&gt;% 
  top_n(1, gamma) %&gt;% 
  ungroup()

# If there are any sentences with the same gamma values, I will exclude them from my analysis as not belonging to only one topic.

td_gamma_prog_info_keep &lt;- td_gamma_prog_info %&gt;% 
  group_by(sentence_doc) %&gt;% 
  count() %&gt;% 
  filter(n == 1) %&gt;% 
  select(-n) %&gt;% 
  ungroup()

td_gamma_prog_info &lt;- td_gamma_prog_info_keep %&gt;% 
  left_join(td_gamma_prog_info, by= c(&quot;sentence_doc&quot; = &quot;sentence_doc&quot;))

# Calculating a proportion of sentences in each of the document, 
# for that I need to add columns: document and stakeholder

# Adding info:
info_sentence_doc &lt;- data_words %&gt;% 
  select(sentence_doc, name, stakeholder) %&gt;% 
  distinct(sentence_doc, .keep_all = TRUE)

td_gamma_prog_info &lt;- td_gamma_prog_info %&gt;% 
  left_join(info_sentence_doc, by= c(&quot;sentence_doc&quot;=&quot;sentence_doc&quot;))

# Calculating proportion
# I will do so by counting name (document) to get a number of sentences 
# in each document, then I will count a number of each topic for a document 
# and then I will create a column with the proportion

sentence_count_gamma &lt;- data_words %&gt;% 
  distinct(sentence_doc, .keep_all = TRUE) %&gt;% 
  group_by(name) %&gt;% 
  count() %&gt;% 
  rename(total_sent = n)

topic_count_gamma &lt;- td_gamma_prog_info %&gt;% 
  group_by(name, topic_sentence) %&gt;% 
  count() %&gt;% 
  rename(total_topic = n)

doc_level_stm_gamma &lt;- topic_count_gamma %&gt;% 
  left_join(sentence_count_gamma, by= c(&quot;name&quot; = &quot;name&quot;)) %&gt;%
  mutate(merge_col = paste(name, topic_sentence, sep = &quot;_&quot;))

# There are some missing values, replacing it with 0 as not present

df_base &lt;- info_sentence_doc %&gt;% 
  select(-sentence_doc) %&gt;% 
  distinct(name, .keep_all = TRUE) %&gt;% 
  slice(rep(1:n(), each = 4)) %&gt;% 
  group_by(name) %&gt;%
  mutate(topic_sentence = 1:n()) %&gt;% 
  mutate(merge_col = paste(name, topic_sentence, sep = &quot;_&quot;)) %&gt;% 
  ungroup() %&gt;% 
  select(-name, -topic_sentence)


df_doc_level_stm_gamma &lt;- df_base %&gt;% 
  left_join(doc_level_stm_gamma, by= c(&quot;merge_col&quot; = &quot;merge_col&quot;)) %&gt;% 
  select(-name, -topic_sentence) %&gt;% 
  separate(merge_col, c(&quot;name&quot;,&quot;topic&quot;), sep = &quot;_&quot;)
  

df_doc_level_stm_gamma$prop &lt;- df_doc_level_stm_gamma$total_topic/df_doc_level_stm_gamma$total_sent
df_doc_level_stm_gamma &lt;- df_doc_level_stm_gamma %&gt;%
    mutate_at(vars(prop), ~replace_na(., 0)) # replacing NA with 0, when a topic not present</code></pre>
<pre class="r"><code>write_excel_csv(df_doc_level_stm_gamma, &quot;./output/created_datasets/df_doc_level_stm_gamma.csv&quot;) </code></pre>
</div>
</div>
<div id="additional-information" class="section level1">
<h1>Additional information</h1>
<div
id="the-code-below-provides-summary-statistics-on-each-of-the-topics."
class="section level2">
<h2>The code below provides summary statistics on each of the
topics.</h2>
<p>Topic 1: Open Research Topic 2: Community &amp; Support Topic 3:
Innovation &amp; Solution Topic 4: Publication process</p>
<pre class="r"><code># Number of words belonging to new topics
no_words_topics &lt;- data_words_stm %&gt;% 
  select(word, topic) %&gt;% 
  distinct(word, .keep_all = TRUE) %&gt;% 
  group_by(topic) %&gt;% 
  count()

no_words_topics %&gt;% 
  kbl(caption = &quot;No of words belonging to new topics&quot;) %&gt;% 
  kable_classic(&quot;hover&quot;, full_width = F)</code></pre>
<table class=" lightable-classic lightable-hover" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
No of words belonging to new topics
</caption>
<thead>
<tr>
<th style="text-align:right;">
topic
</th>
<th style="text-align:right;">
n
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
492
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
579
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
656
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
473
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
632
</td>
</tr>
</tbody>
</table>
<pre class="r"><code># The most relevant words (15) for each topic: highest mean beta
words_high_beta_topic &lt;- data_words_stm %&gt;% 
  select(word, topic, highest_mean_beta) %&gt;% 
  distinct(word, .keep_all = TRUE) %&gt;% 
  group_by(topic) %&gt;% 
  top_n(4) %&gt;% 
  ungroup() %&gt;% 
  arrange(topic, -highest_mean_beta)</code></pre>
<pre><code>Selecting by highest_mean_beta</code></pre>
<pre class="r"><code>words_high_beta_topic %&gt;% 
  kbl(caption = &quot;Most relevant words in topics&quot;) %&gt;% 
  kable_classic(&quot;hover&quot;, full_width = F)</code></pre>
<table class=" lightable-classic lightable-hover" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Most relevant words in topics
</caption>
<thead>
<tr>
<th style="text-align:left;">
word
</th>
<th style="text-align:right;">
topic
</th>
<th style="text-align:right;">
highest_mean_beta
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
year
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.0222178
</td>
</tr>
<tr>
<td style="text-align:left;">
discover
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.0130905
</td>
</tr>
<tr>
<td style="text-align:left;">
paper
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.0120697
</td>
</tr>
<tr>
<td style="text-align:left;">
ecological
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0.0115060
</td>
</tr>
<tr>
<td style="text-align:left;">
datum
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.0287545
</td>
</tr>
<tr>
<td style="text-align:left;">
science
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.0246052
</td>
</tr>
<tr>
<td style="text-align:left;">
practise
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.0209310
</td>
</tr>
<tr>
<td style="text-align:left;">
researcher
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.0161207
</td>
</tr>
<tr>
<td style="text-align:left;">
change
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0.0149837
</td>
</tr>
<tr>
<td style="text-align:left;">
impact
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0.0122918
</td>
</tr>
<tr>
<td style="text-align:left;">
author
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0.0094370
</td>
</tr>
<tr>
<td style="text-align:left;">
resource
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0.0091833
</td>
</tr>
<tr>
<td style="text-align:left;">
open
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0.0322621
</td>
</tr>
<tr>
<td style="text-align:left;">
review
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0.0292161
</td>
</tr>
<tr>
<td style="text-align:left;">
access
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0.0239077
</td>
</tr>
<tr>
<td style="text-align:left;">
peer
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0.0192811
</td>
</tr>
<tr>
<td style="text-align:left;">
research
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.0795512
</td>
</tr>
<tr>
<td style="text-align:left;">
scientific
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.0151194
</td>
</tr>
<tr>
<td style="text-align:left;">
community
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.0126186
</td>
</tr>
<tr>
<td style="text-align:left;">
share
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0.0082430
</td>
</tr>
</tbody>
</table>
</div>
<div
id="the-code-below-provides-summary-statistics-on-each-of-the-stakeholders"
class="section level2">
<h2>The code below provides summary statistics on each of the
stakeholders</h2>
<pre class="r"><code># Advocates
advocates_info &lt;- df_doc_level_stm_gamma %&gt;% 
  select(-total_topic, - total_sent) %&gt;%
  filter(stakeholder == &quot;advocates&quot;) %&gt;% 
  group_by(topic) %&gt;% 
  slice_max(order_by = prop, n = 3) %&gt;% 
  select(-stakeholder)
advocates_info</code></pre>
<pre><code># A tibble: 13 × 3
# Groups:   topic [4]
   name                                           topic  prop
   &lt;chr&gt;                                          &lt;chr&gt; &lt;dbl&gt;
 1 Jisc                                           1     0.5  
 2 Gitlab                                         1     0.346
 3 SPARC                                          1     0.182
 4 CoData                                         2     1    
 5 COPDESS                                        2     1    
 6 ROpenSci                                       2     1    
 7 Reference Center for Environmental Information 3     1    
 8 Research4life                                  3     1    
 9 Africa Open Science and Hardware               3     0.667
10 Amelica                                        4     0.692
11 Bioline International                          4     0.455
12 coalitionS                                     4     0.4  
13 DOAJ                                           4     0.4  </code></pre>
<pre class="r"><code>advocates_info %&gt;% 
  kbl(caption = &quot;Advocates associated with topics&quot;) %&gt;% 
  kable_classic(&quot;hover&quot;, full_width = F)</code></pre>
<table class=" lightable-classic lightable-hover" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Advocates associated with topics
</caption>
<thead>
<tr>
<th style="text-align:left;">
name
</th>
<th style="text-align:left;">
topic
</th>
<th style="text-align:right;">
prop
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Jisc
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
0.5000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Gitlab
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
0.3461538
</td>
</tr>
<tr>
<td style="text-align:left;">
SPARC
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
0.1818182
</td>
</tr>
<tr>
<td style="text-align:left;">
CoData
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
<tr>
<td style="text-align:left;">
COPDESS
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
<tr>
<td style="text-align:left;">
ROpenSci
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Reference Center for Environmental Information
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Research4life
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Africa Open Science and Hardware
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
0.6666667
</td>
</tr>
<tr>
<td style="text-align:left;">
Amelica
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
0.6923077
</td>
</tr>
<tr>
<td style="text-align:left;">
Bioline International
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
0.4545455
</td>
</tr>
<tr>
<td style="text-align:left;">
coalitionS
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
0.4000000
</td>
</tr>
<tr>
<td style="text-align:left;">
DOAJ
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
0.4000000
</td>
</tr>
</tbody>
</table>
<pre class="r"><code># Funders
funders_info &lt;- df_doc_level_stm_gamma %&gt;% 
  select(-total_topic, - total_sent) %&gt;%
  filter(stakeholder == &quot;funders&quot;) %&gt;% 
  group_by(topic) %&gt;% 
  slice_max(order_by = prop, n = 3) %&gt;% 
  select(-stakeholder)
funders_info</code></pre>
<pre><code># A tibble: 13 × 3
# Groups:   topic [4]
   name                                                        topic  prop
   &lt;chr&gt;                                                       &lt;chr&gt; &lt;dbl&gt;
 1 Russian Academy of Science                                  1     0.727
 2 JST                                                         1     0.7  
 3 NSERC                                                       1     0.4  
 4 Coordenacao de Aperfeicoamento de Pessoal de Nivel Superior 2     0.833
 5 Conacyt                                                     2     0.75 
 6 Consortium of African Funds for the Environment             2     0.75 
 7 CNPq                                                        3     1    
 8 CONICYT                                                     3     1    
 9 The Daimler and Benz Foundation                             3     0.833
10 Sea World Research and Rescue Foundation                    4     0.625
11 National Science Foundation                                 4     0.346
12 ERC                                                         4     0.3  
13 NSERC                                                       4     0.3  </code></pre>
<pre class="r"><code>funders_info %&gt;% 
  kbl(caption = &quot;Funders associated with topics&quot;) %&gt;% 
  kable_classic(&quot;hover&quot;, full_width = F)</code></pre>
<table class=" lightable-classic lightable-hover" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Funders associated with topics
</caption>
<thead>
<tr>
<th style="text-align:left;">
name
</th>
<th style="text-align:left;">
topic
</th>
<th style="text-align:right;">
prop
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Russian Academy of Science
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
0.7272727
</td>
</tr>
<tr>
<td style="text-align:left;">
JST
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
0.7000000
</td>
</tr>
<tr>
<td style="text-align:left;">
NSERC
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
0.4000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Coordenacao de Aperfeicoamento de Pessoal de Nivel Superior
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
0.8333333
</td>
</tr>
<tr>
<td style="text-align:left;">
Conacyt
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
0.7500000
</td>
</tr>
<tr>
<td style="text-align:left;">
Consortium of African Funds for the Environment
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
0.7500000
</td>
</tr>
<tr>
<td style="text-align:left;">
CNPq
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
<tr>
<td style="text-align:left;">
CONICYT
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
<tr>
<td style="text-align:left;">
The Daimler and Benz Foundation
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
0.8333333
</td>
</tr>
<tr>
<td style="text-align:left;">
Sea World Research and Rescue Foundation
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
0.6250000
</td>
</tr>
<tr>
<td style="text-align:left;">
National Science Foundation
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
0.3461538
</td>
</tr>
<tr>
<td style="text-align:left;">
ERC
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
0.3000000
</td>
</tr>
<tr>
<td style="text-align:left;">
NSERC
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
0.3000000
</td>
</tr>
</tbody>
</table>
<pre class="r"><code># Journals
journals_info &lt;- df_doc_level_stm_gamma %&gt;% 
  select(-total_topic, - total_sent) %&gt;%
  filter(stakeholder == &quot;journals&quot;) %&gt;% 
  group_by(topic) %&gt;% 
  slice_max(order_by = prop, n = 3) %&gt;% 
  select(-stakeholder)
journals_info</code></pre>
<pre><code># A tibble: 13 × 3
# Groups:   topic [4]
   name                                               topic  prop
   &lt;chr&gt;                                              &lt;chr&gt; &lt;dbl&gt;
 1 Evolution                                          1     1    
 2 Journal of Applied Ecology                         1     1    
 3 eLifeJournal                                       1     1    
 4 Nature Ecology and Evolution                       2     0.4  
 5 PeerJJournal                                       2     0.25 
 6 Conservation Letters                               2     0.2  
 7 Diversity and Distributions                        2     0.2  
 8 BioSciences                                        3     1    
 9 Biological Conservation                            3     0.857
10 Ecology and Evolution                              3     0.774
11 Annual Review of Ecology Evolution and Systematics 4     1    
12 Neobiota                                           4     0.571
13 Evolutionary Applications                          4     0.462</code></pre>
<pre class="r"><code>journals_info %&gt;% 
  kbl(caption = &quot;Journals associated with topics&quot;) %&gt;% 
  kable_classic(&quot;hover&quot;, full_width = F)</code></pre>
<table class=" lightable-classic lightable-hover" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Journals associated with topics
</caption>
<thead>
<tr>
<th style="text-align:left;">
name
</th>
<th style="text-align:left;">
topic
</th>
<th style="text-align:right;">
prop
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Evolution
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Journal of Applied Ecology
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
<tr>
<td style="text-align:left;">
eLifeJournal
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Nature Ecology and Evolution
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
0.4000000
</td>
</tr>
<tr>
<td style="text-align:left;">
PeerJJournal
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
0.2500000
</td>
</tr>
<tr>
<td style="text-align:left;">
Conservation Letters
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
0.2000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Diversity and Distributions
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
0.2000000
</td>
</tr>
<tr>
<td style="text-align:left;">
BioSciences
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Biological Conservation
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
0.8571429
</td>
</tr>
<tr>
<td style="text-align:left;">
Ecology and Evolution
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
0.7735849
</td>
</tr>
<tr>
<td style="text-align:left;">
Annual Review of Ecology Evolution and Systematics
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Neobiota
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
0.5714286
</td>
</tr>
<tr>
<td style="text-align:left;">
Evolutionary Applications
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
0.4615385
</td>
</tr>
</tbody>
</table>
<pre class="r"><code># Publishers
publishers_info &lt;- df_doc_level_stm_gamma %&gt;% 
  select(-total_topic, - total_sent) %&gt;%
  filter(stakeholder == &quot;publishers&quot;) %&gt;% 
  group_by(topic) %&gt;% 
  slice_max(order_by = prop, n = 3) %&gt;% 
  select(-stakeholder)
publishers_info</code></pre>
<pre><code># A tibble: 12 × 3
# Groups:   topic [4]
   name                            topic  prop
   &lt;chr&gt;                           &lt;chr&gt; &lt;dbl&gt;
 1 AIBS                            1     1    
 2 Springer Nature                 1     0.857
 3 eLife                           1     0.6  
 4 Wiley                           2     0.786
 5 The University of Chicago Press 2     0.636
 6 The Royal Society Publishing    2     0.5  
 7 BioOne                          3     1    
 8 PeerJ                           3     0.867
 9 Cell Press                      3     0.696
10 PLOS                            4     0.455
11 Pensoft                         4     0.429
12 The University of Chicago Press 4     0.364</code></pre>
<pre class="r"><code>publishers_info %&gt;% 
  kbl(caption = &quot;Publishers associated with topics&quot;) %&gt;% 
  kable_classic(&quot;hover&quot;, full_width = F)</code></pre>
<table class=" lightable-classic lightable-hover" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Publishers associated with topics
</caption>
<thead>
<tr>
<th style="text-align:left;">
name
</th>
<th style="text-align:left;">
topic
</th>
<th style="text-align:right;">
prop
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
AIBS
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Springer Nature
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
0.8571429
</td>
</tr>
<tr>
<td style="text-align:left;">
eLife
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
0.6000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Wiley
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
0.7857143
</td>
</tr>
<tr>
<td style="text-align:left;">
The University of Chicago Press
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
0.6363636
</td>
</tr>
<tr>
<td style="text-align:left;">
The Royal Society Publishing
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
0.5000000
</td>
</tr>
<tr>
<td style="text-align:left;">
BioOne
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
<tr>
<td style="text-align:left;">
PeerJ
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
0.8666667
</td>
</tr>
<tr>
<td style="text-align:left;">
Cell Press
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
0.6956522
</td>
</tr>
<tr>
<td style="text-align:left;">
PLOS
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
0.4545455
</td>
</tr>
<tr>
<td style="text-align:left;">
Pensoft
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
0.4285714
</td>
</tr>
<tr>
<td style="text-align:left;">
The University of Chicago Press
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
0.3636364
</td>
</tr>
</tbody>
</table>
<pre class="r"><code># Repositories
repositories_info &lt;- df_doc_level_stm_gamma %&gt;% 
  select(-total_topic, - total_sent) %&gt;%
  filter(stakeholder == &quot;repositories&quot;) %&gt;% 
  group_by(topic) %&gt;% 
  slice_max(order_by = prop, n = 3) %&gt;% 
  select(-stakeholder)
repositories_info</code></pre>
<pre><code># A tibble: 13 × 3
# Groups:   topic [4]
   name                              topic  prop
   &lt;chr&gt;                             &lt;chr&gt; &lt;dbl&gt;
 1 European Bioinformatics Institute 1     0.238
 2 DNA Databank of Japan             1     0.154
 3 KNB                               1     0.111
 4 TERN                              2     1    
 5 Australian Antarctic Data Centre  2     0.625
 6 European Bioinformatics Institute 2     0.476
 7 Zenodo                            2     0.476
 8 Marine Data Archive               3     1    
 9 GBIF                              3     0.833
10 bioRxiv                           3     0.778
11 EcoEvoRxiv                        4     0.8  
12 BCO-DMO                           4     0.75 
13 Harvard Dataverse                 4     0.75 </code></pre>
<pre class="r"><code>repositories_info %&gt;% 
  kbl(caption = &quot;Repositories associated with topics&quot;) %&gt;% 
  kable_classic(&quot;hover&quot;, full_width = F)</code></pre>
<table class=" lightable-classic lightable-hover" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Repositories associated with topics
</caption>
<thead>
<tr>
<th style="text-align:left;">
name
</th>
<th style="text-align:left;">
topic
</th>
<th style="text-align:right;">
prop
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
European Bioinformatics Institute
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
0.2380952
</td>
</tr>
<tr>
<td style="text-align:left;">
DNA Databank of Japan
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
0.1538462
</td>
</tr>
<tr>
<td style="text-align:left;">
KNB
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
0.1111111
</td>
</tr>
<tr>
<td style="text-align:left;">
TERN
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Australian Antarctic Data Centre
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
0.6250000
</td>
</tr>
<tr>
<td style="text-align:left;">
European Bioinformatics Institute
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
0.4761905
</td>
</tr>
<tr>
<td style="text-align:left;">
Zenodo
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
0.4761905
</td>
</tr>
<tr>
<td style="text-align:left;">
Marine Data Archive
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
<tr>
<td style="text-align:left;">
GBIF
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
0.8333333
</td>
</tr>
<tr>
<td style="text-align:left;">
bioRxiv
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
0.7777778
</td>
</tr>
<tr>
<td style="text-align:left;">
EcoEvoRxiv
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
0.8000000
</td>
</tr>
<tr>
<td style="text-align:left;">
BCO-DMO
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
0.7500000
</td>
</tr>
<tr>
<td style="text-align:left;">
Harvard Dataverse
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
0.7500000
</td>
</tr>
</tbody>
</table>
<pre class="r"><code># Societies
societies_info &lt;- df_doc_level_stm_gamma %&gt;% 
  select(-total_topic, - total_sent) %&gt;%
  filter(stakeholder == &quot;societies&quot;) %&gt;% 
  group_by(topic) %&gt;% 
  slice_max(order_by = prop, n = 3) %&gt;% 
  select(-stakeholder)
societies_info</code></pre>
<pre><code># A tibble: 13 × 3
# Groups:   topic [4]
   name                                      topic  prop
   &lt;chr&gt;                                     &lt;chr&gt; &lt;dbl&gt;
 1 Australasian Evolution Society            1     1    
 2 Society for the Study of Evolution        1     0.667
 3 Ecological Society of Australia           1     0.571
 4 The Royal Society                         2     1    
 5 National Academy of Sciences              2     0.444
 6 Royal Society Te Aparangi                 2     0.348
 7 The Zoological Society of London          3     0.929
 8 SORTEE                                    3     0.667
 9 British Ecological Society                3     0.556
10 National Academy of Sciences              3     0.556
11 American Society of Naturalists           4     0.333
12 European Society for Evolutionary Biology 4     0.333
13 British Ecological Society                4     0.222</code></pre>
<pre class="r"><code>societies_info %&gt;% 
  kbl(caption = &quot;Societies associated with topics&quot;) %&gt;% 
  kable_classic(&quot;hover&quot;, full_width = F)</code></pre>
<table class=" lightable-classic lightable-hover" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Societies associated with topics
</caption>
<thead>
<tr>
<th style="text-align:left;">
name
</th>
<th style="text-align:left;">
topic
</th>
<th style="text-align:right;">
prop
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Australasian Evolution Society
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Society for the Study of Evolution
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
0.6666667
</td>
</tr>
<tr>
<td style="text-align:left;">
Ecological Society of Australia
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
0.5714286
</td>
</tr>
<tr>
<td style="text-align:left;">
The Royal Society
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
<tr>
<td style="text-align:left;">
National Academy of Sciences
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
0.4444444
</td>
</tr>
<tr>
<td style="text-align:left;">
Royal Society Te Aparangi
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
0.3478261
</td>
</tr>
<tr>
<td style="text-align:left;">
The Zoological Society of London
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
0.9285714
</td>
</tr>
<tr>
<td style="text-align:left;">
SORTEE
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
0.6666667
</td>
</tr>
<tr>
<td style="text-align:left;">
British Ecological Society
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
0.5555556
</td>
</tr>
<tr>
<td style="text-align:left;">
National Academy of Sciences
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:right;">
0.5555556
</td>
</tr>
<tr>
<td style="text-align:left;">
American Society of Naturalists
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
0.3333333
</td>
</tr>
<tr>
<td style="text-align:left;">
European Society for Evolutionary Biology
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
0.3333333
</td>
</tr>
<tr>
<td style="text-align:left;">
British Ecological Society
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:right;">
0.2222222
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="session-information" class="section level1">
<h1>Session information</h1>
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>R version 4.3.1 (2023-06-16)
Platform: x86_64-apple-darwin20 (64-bit)
Running under: macOS Monterey 12.6

Matrix products: default
BLAS:   /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRblas.0.dylib 
LAPACK: /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRlapack.dylib;  LAPACK version 3.11.0

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

time zone: Europe/London
tzcode source: internal

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] arrow_13.0.0.1            kableExtra_1.3.4         
 [3] stm_1.3.6.1               ggraph_2.1.0             
 [5] igraph_1.5.1              reshape2_1.4.4           
 [7] wordcloud_2.6             RColorBrewer_1.1-3       
 [9] topicmodels_0.2-14        tm_0.7-11                
[11] NLP_0.2-1                 quanteda.dictionaries_0.4
[13] quanteda.textplots_0.94.3 quanteda_3.3.1           
[15] tidytext_0.4.1            lubridate_1.9.3          
[17] forcats_1.0.0             stringr_1.5.0            
[19] dplyr_1.1.3               purrr_1.0.2              
[21] readr_2.1.4               tidyr_1.3.0              
[23] tibble_3.2.1              ggplot2_3.4.3            
[25] tidyverse_2.0.0           workflowr_1.7.1          

loaded via a namespace (and not attached):
 [1] gridExtra_2.3      rlang_1.1.1        magrittr_2.0.3     git2r_0.32.0      
 [5] compiler_4.3.1     getPass_0.2-2      systemfonts_1.0.4  callr_3.7.3       
 [9] vctrs_0.6.3        rvest_1.0.3        pkgconfig_2.0.3    fastmap_1.1.1     
[13] magic_1.6-1        utf8_1.2.3         promises_1.2.1     rmarkdown_2.25    
[17] tzdb_0.4.0         ps_1.7.5           bit_4.0.5          xfun_0.40         
[21] modeltools_0.2-23  cachem_1.0.8       jsonlite_1.8.7     highr_0.10        
[25] SnowballC_0.7.1    later_1.3.1        tweenr_2.0.2       parallel_4.3.1    
[29] stopwords_2.3      R6_2.5.1           bslib_0.5.1        stringi_1.7.12    
[33] jquerylib_0.1.4    Rcpp_1.0.11        assertthat_0.2.1   knitr_1.44        
[37] httpuv_1.6.11      Matrix_1.5-4.1     timechange_0.2.0   tidyselect_1.2.0  
[41] abind_1.4-5        rstudioapi_0.15.0  yaml_2.3.7         viridis_0.6.4     
[45] processx_3.8.2     lattice_0.21-8     plyr_1.8.9         withr_2.5.1       
[49] Rtsne_0.16         evaluate_0.21      RcppParallel_5.1.7 polyclip_1.10-6   
[53] xml2_1.3.5         pillar_1.9.0       janeaustenr_1.0.0  whisker_0.4.1     
[57] geometry_0.4.7     stats4_4.3.1       generics_0.1.3     rprojroot_2.0.3   
[61] hms_1.1.3          munsell_0.5.0      scales_1.2.1       glue_1.6.2        
[65] slam_0.1-50        tools_4.3.1        data.table_1.14.8  tokenizers_0.3.0  
[69] webshot_0.5.5      fs_1.6.3           graphlayouts_1.0.2 fastmatch_1.1-4   
[73] tidygraph_1.2.3    grid_4.3.1         colorspace_2.1-0   ggforce_0.4.1     
[77] rsvd_1.0.5         cli_3.6.1          fansi_1.0.4        viridisLite_0.4.2 
[81] svglite_2.1.2      gtable_0.3.4       sass_0.4.7         digest_0.6.33     
[85] ggrepel_0.9.4      farver_2.1.1       htmltools_0.5.6    lifecycle_1.0.3   
[89] httr_1.4.7         bit64_4.0.5        MASS_7.3-60       </code></pre>
<br>
<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-sessioninfo" data-toggle="collapse" data-target="#workflowr-sessioninfo" style="display: block;">
<span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
Session information
</button>
</p>
<div id="workflowr-sessioninfo" class="collapse">
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>R version 4.3.1 (2023-06-16)
Platform: x86_64-apple-darwin20 (64-bit)
Running under: macOS Monterey 12.6

Matrix products: default
BLAS:   /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRblas.0.dylib 
LAPACK: /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRlapack.dylib;  LAPACK version 3.11.0

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

time zone: Europe/London
tzcode source: internal

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] arrow_13.0.0.1            kableExtra_1.3.4         
 [3] stm_1.3.6.1               ggraph_2.1.0             
 [5] igraph_1.5.1              reshape2_1.4.4           
 [7] wordcloud_2.6             RColorBrewer_1.1-3       
 [9] topicmodels_0.2-14        tm_0.7-11                
[11] NLP_0.2-1                 quanteda.dictionaries_0.4
[13] quanteda.textplots_0.94.3 quanteda_3.3.1           
[15] tidytext_0.4.1            lubridate_1.9.3          
[17] forcats_1.0.0             stringr_1.5.0            
[19] dplyr_1.1.3               purrr_1.0.2              
[21] readr_2.1.4               tidyr_1.3.0              
[23] tibble_3.2.1              ggplot2_3.4.3            
[25] tidyverse_2.0.0           workflowr_1.7.1          

loaded via a namespace (and not attached):
 [1] gridExtra_2.3      rlang_1.1.1        magrittr_2.0.3     git2r_0.32.0      
 [5] compiler_4.3.1     getPass_0.2-2      systemfonts_1.0.4  callr_3.7.3       
 [9] vctrs_0.6.3        rvest_1.0.3        pkgconfig_2.0.3    fastmap_1.1.1     
[13] magic_1.6-1        utf8_1.2.3         promises_1.2.1     rmarkdown_2.25    
[17] tzdb_0.4.0         ps_1.7.5           bit_4.0.5          xfun_0.40         
[21] modeltools_0.2-23  cachem_1.0.8       jsonlite_1.8.7     highr_0.10        
[25] SnowballC_0.7.1    later_1.3.1        tweenr_2.0.2       parallel_4.3.1    
[29] stopwords_2.3      R6_2.5.1           bslib_0.5.1        stringi_1.7.12    
[33] jquerylib_0.1.4    Rcpp_1.0.11        assertthat_0.2.1   knitr_1.44        
[37] httpuv_1.6.11      Matrix_1.5-4.1     timechange_0.2.0   tidyselect_1.2.0  
[41] abind_1.4-5        rstudioapi_0.15.0  yaml_2.3.7         viridis_0.6.4     
[45] processx_3.8.2     lattice_0.21-8     plyr_1.8.9         withr_2.5.1       
[49] Rtsne_0.16         evaluate_0.21      RcppParallel_5.1.7 polyclip_1.10-6   
[53] xml2_1.3.5         pillar_1.9.0       janeaustenr_1.0.0  whisker_0.4.1     
[57] geometry_0.4.7     stats4_4.3.1       generics_0.1.3     rprojroot_2.0.3   
[61] hms_1.1.3          munsell_0.5.0      scales_1.2.1       glue_1.6.2        
[65] slam_0.1-50        tools_4.3.1        data.table_1.14.8  tokenizers_0.3.0  
[69] webshot_0.5.5      fs_1.6.3           graphlayouts_1.0.2 fastmatch_1.1-4   
[73] tidygraph_1.2.3    grid_4.3.1         colorspace_2.1-0   ggforce_0.4.1     
[77] rsvd_1.0.5         cli_3.6.1          fansi_1.0.4        viridisLite_0.4.2 
[81] svglite_2.1.2      gtable_0.3.4       sass_0.4.7         digest_0.6.33     
[85] ggrepel_0.9.4      farver_2.1.1       htmltools_0.5.6    lifecycle_1.0.3   
[89] httr_1.4.7         bit64_4.0.5        MASS_7.3-60       </code></pre>
</div>
</div>


<!-- Adjust MathJax settings so that all math formulae are shown using
TeX fonts only; see
https://docs.mathjax.org/en/latest/web/configuration.html. This will make
the presentation more consistent at the cost of the webpage sometimes
taking slightly longer to load. Note that this only works because the
footer is added to webpages before the MathJax javascript. -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    "HTML-CSS": { availableFonts: ["TeX"] }
  });
</script>




</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
